---
title: Säkerhetsuppdatering för Adobe Commerce - [!DNL APSB24-40]
promoted: true
description: Använd en snabbkorrigering och korrigering för att åtgärda [!DNL CVE-2024-34102] för Adobe Commerce 2.4.4-p8, 2.4.5-p7, 2.4.6-p5, 2.4.7 och tidigare versioner.
feature: Compliance, Security
role: Developer
exl-id: b6f4a26f-a6cf-4ced-841e-a579c8e0f8f4
source-git-commit: 8531df62a5e1fcb7f2cadbd918016f1691a8017f
workflow-type: tm+mt
source-wordcount: '803'
ht-degree: 0%

---

# Säkerhetsuppdatering för Adobe Commerce - [!DNL APSB24-40]

>[!NOTE]
>
>**Det här är en brådskande uppdatering relaterad till [!DNL CVE-2024-34102]. Adobe är medveten om att [!DNL CVE-2024-34102] har utnyttjats i mycket begränsade attacker mot Adobe Commerce handlare.

Den 17 juli 2024 släppte vi en [!DNL hotfix] förutom säkerhetsuppdateringen den 11 juni 2024 och/eller den isolerade korrigeringen som släpptes den 28 juni 2024.

**Kontrollera alla produktions- och icke-produktionsmiljöer för att se till att din butik är fullständigt lagrad på alla instanser.  Ta <u>omedelbar åtgärd</u> för att lösa problemet.**

>[!NOTE]
>
>**Endast för Adobe Commerce på molnhandlare**:<br><br>1. Kontrollera att du har den senaste versionen av [!DNL ECE Tools]. Om du inte gör det, uppgradera (eller hoppa till punkt 2). Kör följande kommando för att kontrollera din befintliga version:`composer show magento/ece-tools`<br>2. Om du redan har den senaste versionen av [!DNL ECE Tools] kontrollerar du om filen `op-exclude.txt` finns. Om du vill göra det kör du det här kommandot:`ls op-exclude.txt`.Om filen inte finns lägger du till https://github.com/magento/magento-cloud/blob/master/op-exclude.txt i ditt svar och utför sedan ändringen och distribuerar om.<br>3. Om du inte behöver uppgradera [!DNL ECE Tools] kan du även lägga till/ändra https://github.com/magento/magento-cloud/blob/master/op-exclude.txt i ditt svar och sedan genomföra ändringen och omdistribuera den.

## Alternativ 1 - För handlare som <u>inte</u> tillämpade säkerhetsuppdateringen från 11 juni 2024 eller den isolerade korrigeringen som släpptes 28 juni 2024

1. Använd [!DNL hotfix] som släpptes 17 juli 2024.
1. Använd säkerhetsuppdateringen.
1. Aktivera [!UICONTROL maintenance mode].
1. Inaktivera körning av [!DNL cron] (Commerce på molnet, kommando: `vendor/bin/ece-tools cron:disable`).
1. [Rotera [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key).
1. Töm cacheminnet.
1. Aktivera körning av [!DNL cron] (Commerce i molnet, kommando: `vendor/bin/ece-tools cron:enable`).
1. Inaktivera [!UICONTROL maintenance mode].

ELLER

1. Använd det isolerade plåstret. **<u>OBS!</u>: Den här versionen av den isolerade korrigeringen innehåller den 17 juli 2024, [!DNL hotfix] som ingår.**
1. Aktivera [!UICONTROL maintenance mode].
1. Inaktivera körning av [!DNL cron] (Commerce på molnet, kommando: `vendor/bin/ece-tools cron:disable`).
1. [Rotera [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key).
1. Töm cacheminnet.
1. Aktivera körning av [!DNL cron] (Commerce i molnet, kommando: `vendor/bin/ece-tools cron:enable`).
1. Inaktivera [!UICONTROL maintenance mode].

## Alternativ 2 - För handlare som <u>redan</u> tillämpade säkerhetsuppdateringen från den 11 juni 2024 och/eller den isolerade korrigeringen som släpptes den 28 juni 2024

1. Använd [!DNL hotfix] som släpptes 17 juli 2024.
1. Aktivera [!UICONTROL maintenance mode].
1. Inaktivera körning av [!DNL cron] (Commerce på molnet, kommando: `vendor/bin/ece-tools cron:disable`).
1. [Rotera [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key).
1. Töm cacheminnet.
1. Aktivera körning av [!DNL cron] (Commerce i molnet, kommando: `vendor/bin/ece-tools cron:enable`).
1. Inaktivera [!UICONTROL maintenance mode].

## Alternativ 3 - För handlare som har <u>redan</u> (1) tillämpat säkerhetsuppdateringen från 11 juni 2024 och/eller (2) den isolerade korrigeringen som släpptes 28 juni 2024 och (3) roterade dina krypteringsnycklar

* Använd den [snabbkorrigering](#hotfix) som släpptes 17 juli 2024.


>[!NOTE]
>
>För att vara säker efter uppgraderingen måste du också **[rotera [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)**:<br><br>1. Aktivera [!UICONTROL maintenance mode].<br>2. Inaktivera körning av [!DNL cron] (Commerce på molnet, kommando: `vendor/bin/ece-tools cron:disable`).<br>3. Rotera [!DNL encryption keys].<br>4. Aktivera körning av [!DNL cron] (Commerce i molnet, kommando: `vendor/bin/ece-tools cron:enable`).<br>5. Inaktivera [!UICONTROL maintenance mode].

I den här artikeln beskrivs hur du implementerar den isolerade korrigeringen för det här problemet för aktuella och tidigare versioner av Adobe Commerce och Magento Open Source.
**<u>OBS!</u>: Den här versionen av den isolerade korrigeringen innehåller den 17 juli 2024, [!DNL hotfix] som ingår.**

## Berörda produkter och versioner

Adobe Commerce i molnet, Adobe Commerce på plats och Magento Open Source:

* 2.4.7-p1 och tidigare versioner
* 2.4.6-p6 och tidigare
* 2.4.5-p8 och tidigare
* 2.4.4-p9 och tidigare

## Lösning för Adobe Commerce i molnet, Adobe Commerce On-Local Software och Magento Open Source

För att åtgärda säkerhetsluckan för de berörda produkterna och versionerna måste du tillämpa [!DNL VULN-27015]-korrigeringen (beroende på vilken version du har) och rotera [!UICONTROL encryption keys].

## Information om hotfix {#hotfix}

* Hämta [!DNL Hotfix] [AC-12485_Hotfix_COMPOSER_patch.zip](assets/AC-12485_Hotfix_COMPOSER_patch.zip)

## Information om isolerad lagning

**<u>OBS!</u>: Den här versionen av den isolerade korrigeringen innehåller den 17 juli 2024, [!DNL hotfix] som ingår.**

Använd följande bifogade patchar, beroende på vilken version av Adobe Commerce/Magento Open Source du använder:

### För version 2.4.7:

* [VULN-27015-2.4.7x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.7x_v2_COMPOSER_patch.zip)

### För version 2.4.6, 2.4.6-p1, 2.4.6-p2, 2.4.6-p3, 2.4.6-p4, 2.4.6-p5:

* [VULN-27015-2.4.6x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.6x_v2_COMPOSER_patch.zip)

### För version 2.4.5, 2.4.5-p1, 2.4.5-p2, 2.4.5-p3, 2.4.5-p4, 2.4.5-p5, 2.4.5-p6, 2.4.5-p7:

* [VULN-27015-2.4.5x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.5x_v2_COMPOSER_patch.zip)

### För version 2.4.4, 2.4.4-p1, 2.4.4-p2, 2.4.4-p3, 2.4.4-p4, 2.4.4-p5, 2.4.4-p6, 2.4.4-p7, 2.4.4-p8:

* [VULN-27015-2.4.4x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.4x_v2_COMPOSER_patch.zip)


## Så här använder du den isolerade korrigeringen och [!DNL hotfix]

Zippa upp filen och se [Använda en kompositkorrigering från Adobe](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/how-to/how-to-apply-a-composer-patch-provided-by-magento.html) i vår kunskapsbas för support för instruktioner.

## Endast för Adobe Commerce på molnhandlare - Hur du ser om de isolerade korrigeringarna har tillämpats

Eftersom det inte är enkelt att kontrollera om problemet har åtgärdats, kanske du vill kontrollera om den isolerade korrigeringen [!DNL VULN-27015] har tillämpats.

<u>Du kan göra detta genom att utföra följande steg, med filen `VULN-27015-2.4.7_COMPOSER.patch` som exempel</u>:

1. [Installera verktyget för kvalitetskorrigeringar](https://experienceleague.adobe.com/docs/commerce-operations/tools/quality-patches-tool/usage.html).
1. Kör kommandot:<br>
   ![cve-2024-34102-tell-if-patch-applied-code](assets/cve-2024-34102-tell-if-patch-applied-code.png)

<!--
    ```bash
    vendor/bin/magento-patches -n status |grep "27015\|Status"
    ```
-->

1. Du bör se utdata som liknar detta, där VULN-27015 returnerar statusen *Används*:

   ```bash
   ║ Id            │ Title                                                        │ Category        │ Origin                 │ Status      │ Details                                          ║ ║ N/A           │ ../m2-hotfixes/VULN-27015-2.4.7_COMPOSER_patch.patch      │ Other           │ Local                  │ Applied     │ Patch type: Custom                                
   ```

## Rotera/ändra [!UICONTROL encryption key] efter att du har använt korrigeringen

Vägledning **om hur du roterar/ändrar [!UICONTROL encryption key] efter att du har tillämpat korrigeringen finns i [Administratörssystemguiden: [!UICONTROL Encryption key]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)** i dokumentationen för Commerce Admin Systems Guide.

## Mer information om hur du skyddar din butik och roterar krypteringsnycklar

Mer information om hur du skyddar din butik och roterar krypteringsnycklar för [!DNL CVE-2024-34102] finns i [Vägledning om hur du skyddar din butik och roterar krypteringsnycklar: [!DNL CVE-2024-34102]](https://experienceleague.adobe.com/en/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/guidance-on-securing-your-store-and-rotating-encryptionkeys-cve-2024-34102.md), även i Adobe Commerce Knowledge Base.

## Säkerhetsuppdateringar

Säkerhetsuppdateringar för Adobe Commerce:

* [Felsökning av rotering av krypteringsnyckel: [!DNL CVE-2024-34102]](https://experienceleague.adobe.com/en/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/troubleshooting-encryption-key-rotation-cve-2024-34102)
* [Säkerhetsbulletin för Adobe ([!DNL APSB24-40])](https://helpx.adobe.com/security/products/magento/apsb24-40.html)

## Relaterad läsning

[Aktivera eller inaktivera [!UICONTROL maintenance mode]](https://experienceleague.adobe.com/en/docs/commerce-operations/installation-guide/tutorials/maintenance-mode) i Adobe Commerce installationshandbok